#ifndef __ST7735S_H
#define __ST7735S_H

#include "main.h"
#include "spi.h"
#include "gpio.h"
#include "oledfont.h"

// ?????????? (???????????????)
#define LCD_RESET_PIN    GPIO_PIN_2
#define LCD_RESET_PORT   GPIOB
#define LCD_A0_PIN       GPIO_PIN_1  // DC/RS????
#define LCD_A0_PORT      GPIOB
#define LCD_LIGHT_PIN    GPIO_PIN_0  // ????PWM
#define LCD_LIGHT_PORT   GPIOB

// ???????????
#define LCD_RESET(x)     HAL_GPIO_WritePin(LCD_RESET_PORT, LCD_RESET_PIN, (x) ? GPIO_PIN_SET : GPIO_PIN_RESET)
#define LCD_A0(x)        HAL_GPIO_WritePin(LCD_A0_PORT, LCD_A0_PIN, (x) ? GPIO_PIN_SET : GPIO_PIN_RESET)

//????LCD????
#define LCD_W 161
#define LCD_H 130

// ???????????‰Í???????¦Ë???
#define LCD_X_OFFSET 1
#define LCD_Y_OFFSET 0

//LCD??????????????
extern uint16_t  POINT_COLOR;//?????
extern uint16_t  BACK_COLOR; //???????.???????
//LCD?????????
typedef struct
{
	uint16_t width;			//LCD ????
	uint16_t height;		//LCD ???
	uint16_t id;			//LCD ID
	uint8_t  dir;			//?????????????????0????????1????????
	uint16_t wramcmd;		//???§Õgram???
	uint16_t setxcmd;		//????x???????
	uint16_t setycmd;		//????y???????
}_lcd_dev;

//LCD????
extern _lcd_dev lcddev;	//????LCD???????

// ????????
void LCD_Init(void);
void LCD_Clear(uint16_t Color);
void LCD_SPI_WriteByte(uint8_t data);  //???SPI§Õ?????????????
void LCD_WR_DATA(uint8_t Data);
void LCD_WR_REG(uint8_t Reg);
void LCD_SetCursor(uint16_t Xpos, uint16_t Ypos);//???¨´??¦Ë??
void LCD_SetWindows(uint16_t xStar, uint16_t yStar, uint16_t xEnd, uint16_t yEnd);//???????????
void LCD_DrawPoint(uint16_t x, uint16_t y);//????
void LCD_WriteRAM_Prepare(void);
void LCD_Direction(void);
void LCD_WR_DATA_16Bit(uint16_t Data);
void LCD_Reset(void);
void LCD_WriteReg(uint8_t LCD_Reg, uint8_t LCD_RegValue);
void LCD_SetBacklight(uint16_t brightness); // ??????????? 0-999

// ??????????
void LCD_ShowChar(uint16_t x, uint16_t y, uint16_t fc, uint16_t bc, uint8_t num, uint8_t size, uint8_t mode);
void Show_Str(uint16_t x, uint16_t y, uint16_t fc, uint16_t bc, uint8_t *str, uint8_t size, uint8_t mode);
void GUI_DrawFont16(uint16_t x, uint16_t y, uint16_t fc, uint16_t bc, uint8_t *s, uint8_t mode);
void Show_Chinese(uint16_t x, uint16_t y, uint16_t fc, uint16_t bc, char* text, uint8_t size, uint8_t mode);

//???????
#define WHITE         	 0xFFFF
#define BLACK         	 0x0000	  
#define BLUE         	 0x001F  
#define BRED             0XF81F
#define GRED 			 0XFFE0
#define GBLUE			 0X07FF
#define RED           	 0xF800
#define MAGENTA       	 0xF81F
#define GREEN         	 0x07E0
#define CYAN          	 0x7FFF
#define YELLOW        	 0xFFE0
#define BROWN 			 0XBC40 //???
#define BRRED 			 0XFC07 //????
#define GRAY  			 0X8430 //???
//GUI???

#define DARKBLUE      	 0X01CF	//?????
#define LIGHTBLUE      	 0X7D7C	//????  
#define GRAYBLUE       	 0X5458 //?????
//????????PANEL????? 
 
#define LIGHTGREEN     	 0X841F //????
#define LGRAY 			 0XC618 //????(PANNEL),???ŒÝ???

#define LGRAYBLUE        0XA651 //??????(?§Þ?????)
#define LBBLUE           0X2B12 //??????(??????????)


#endif
